<div class="break-out bg-light mt-5">
    <div class="row align-items-center mt-0 p-5 mx-auto" style="max-width: 1500px;">
        <div class="col-sm-12 col-md-6 mx-auto text-center">
            <div align="center" class="mt-5 mb-5 p-3 pt-5 pb-5 bg-light">
              <svg viewBox="0 0 540 360">
                <g>
                    <g data-state="ak" preserveAspectRatio="xMinYMin" transform="translate( 0,0 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">AK</text>
                    </g>
                    <g data-state="me" preserveAspectRatio="xMinYMin" transform="translate( 495,0 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">ME</text>
                    </g>
                    <g data-state="vt" preserveAspectRatio="xMinYMin" transform="translate( 405,45 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">VT</text>
                    </g>
                    <g data-state="nh" preserveAspectRatio="xMinYMin" transform="translate( 450,45 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NH</text>
                    </g>
                    <g data-state="ma" preserveAspectRatio="xMinYMin" transform="translate( 495,45 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MA</text>
                    </g>
                    <g data-state="wa" preserveAspectRatio="xMinYMin" transform="translate( 45,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">WA</text>
                    </g>
                    <g class="no-data" data-state="mt" preserveAspectRatio="xMinYMin" transform="translate( 90,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MT</text>
                    </g>
                    <g data-state="nd" preserveAspectRatio="xMinYMin" transform="translate( 135,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">ND</text>
                    </g>
                    <g data-state="sd" preserveAspectRatio="xMinYMin" transform="translate( 180,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">SD</text>
                    </g>
                    <g data-state="mn" preserveAspectRatio="xMinYMin" transform="translate( 225,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MN</text>
                    </g>
                    <g data-state="wi" preserveAspectRatio="xMinYMin" transform="translate( 270,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">WI</text>
                    </g>
                    <g data-state="mi" preserveAspectRatio="xMinYMin" transform="translate( 315,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MI</text>
                    </g>
                    <g class="wordcloud-highlight" data-state="ny" preserveAspectRatio="xMinYMin" transform="translate( 405,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NY</text>
                    </g>
                    <g data-state="ct" preserveAspectRatio="xMinYMin" transform="translate( 450,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">CT</text>
                    </g>
                    <g data-state="ri" preserveAspectRatio="xMinYMin" transform="translate( 495,90 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">RI</text>
                    </g>
                    <g data-state="or" preserveAspectRatio="xMinYMin" transform="translate( 45,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">OR</text>
                    </g>
                    <g data-state="id" preserveAspectRatio="xMinYMin" transform="translate( 90,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">ID</text>
                    </g>
                    <g class="no-data" data-state="wy" preserveAspectRatio="xMinYMin" transform="translate( 135,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">WY</text>
                    </g>
                    <g data-state="ne" preserveAspectRatio="xMinYMin" transform="translate( 180,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NE</text>
                    </g>
                    <g data-state="ia" preserveAspectRatio="xMinYMin" transform="translate( 225,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">IA</text>
                    </g>
                    <g data-state="il" preserveAspectRatio="xMinYMin" transform="translate( 270,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">IL</text>
                    </g>
                    <g data-state="in" preserveAspectRatio="xMinYMin" transform="translate( 315,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">IN</text>
                    </g>
                    <g data-state="oh" preserveAspectRatio="xMinYMin" transform="translate( 360,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">OH</text>
                    </g>
                    <g data-state="pa" preserveAspectRatio="xMinYMin" transform="translate( 405,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">PA</text>
                    </g>
                    <g data-state="nj" preserveAspectRatio="xMinYMin" transform="translate( 450,135 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NJ</text>
                    </g>
                    <g data-state="ca" preserveAspectRatio="xMinYMin" transform="translate( 0,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">CA</text>
                    </g>
                    <g data-state="nv" preserveAspectRatio="xMinYMin" transform="translate( 45,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NV</text>
                    </g>
                    <g data-state="ut" preserveAspectRatio="xMinYMin" transform="translate( 90,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">UT</text>
                    </g>
                    <g data-state="co" preserveAspectRatio="xMinYMin" transform="translate( 135,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">CO</text>
                    </g>
                    <g data-state="ks" preserveAspectRatio="xMinYMin" transform="translate( 180,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">KS</text>
                    </g>
                    <g data-state="mo" preserveAspectRatio="xMinYMin" transform="translate( 225,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MO</text>
                    </g>
                    <g data-state="ky" preserveAspectRatio="xMinYMin" transform="translate( 270,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">KY</text>
                    </g>
                    <g data-state="wv" preserveAspectRatio="xMinYMin" transform="translate( 315,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">WV</text>
                    </g>
                    <g data-state="md" preserveAspectRatio="xMinYMin" transform="translate( 360,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MD</text>
                    </g>
                    <g data-state="de" preserveAspectRatio="xMinYMin" transform="translate( 405,180 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">DE</text>
                    </g>
                    <g data-state="az" preserveAspectRatio="xMinYMin" transform="translate( 90,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">AZ</text>
                    </g>
                    <g data-state="nm" preserveAspectRatio="xMinYMin" transform="translate( 135,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NM</text>
                    </g>
                    <g data-state="ok" preserveAspectRatio="xMinYMin" transform="translate( 180,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">OK</text>
                    </g>
                    <g class="no-data" data-state="ar" preserveAspectRatio="xMinYMin" transform="translate( 225,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">AR</text>
                    </g>
                    <g data-state="tn" preserveAspectRatio="xMinYMin" transform="translate( 270,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">TN</text>
                    </g>
                    <g data-state="va" preserveAspectRatio="xMinYMin" transform="translate( 315,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">VA</text>
                    </g>
                    <g data-state="nc" preserveAspectRatio="xMinYMin" transform="translate( 360,225 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">NC</text>
                    </g>
                    <g data-state="tx" preserveAspectRatio="xMinYMin" transform="translate( 135,270 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">TX</text>
                    </g>
                    <g data-state="la" preserveAspectRatio="xMinYMin" transform="translate( 180,270 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">LA</text>
                    </g>
                    <g class="no-data" data-state="ms" preserveAspectRatio="xMinYMin" transform="translate( 225,270 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">MS</text>
                    </g>
                    <g data-state="al" preserveAspectRatio="xMinYMin" transform="translate( 270,270 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">AL</text>
                    </g>
                    <g class="no-data" data-state="ga" preserveAspectRatio="xMinYMin" transform="translate( 315,270 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">GA</text>
                    </g>
                    <g data-state="sc" preserveAspectRatio="xMinYMin" transform="translate( 360,270 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">SC</text>
                    </g>
                    <g data-state="hi" preserveAspectRatio="xMinYMin" transform="translate( 0,315 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">HI</text>
                    </g>
                    <g data-state="fl" preserveAspectRatio="xMinYMin" transform="translate( 315,315 )">
                        <rect width="45" height="45" vector-effect="non-scaling-stroke" style="opacity: 0.5; stroke: rgb(170, 170, 170); fill: rgb(255, 255, 255);"></rect>
                        <text x="22.5" y="24.5" style="text-anchor: middle;">FL</text>
                    </g>
                    </g>
                </svg>
            </div>
        </div>
        <div class="col-sm-12 col-md-6 mx-auto text-center">
            <div id="wordcloud-viewer" class="">
                <!-- <p id="wordcloud-title" class="p-3 mb-0"></p> -->
                <!-- <div id="wordcloud-hint"><p class="pt-5"><span class="d-sm-none">Hover</span><span class="d-none d-sm-inline">Click</span> each state to see the data.</p></div> -->
                <img src="https://fourtonfish.com/princeton-corpus-of-political-emails/images/ny.png" id="wordcloud-image" width="500" height="500">
            </div>
        </div>            
    </div>
</div>
<style>
    .no-data{
        opacity: 0.5 !important;
    }
    #wordcloud-viewer{
        /*background-color: #fff;*/
    }
    #wordcloud-title{
        font-weight: bold;
        font-size: 2rem;
    }
    #wordcloud-image{
        max-width: 100%;
        object-fit: contain;
    }
    .wordcloud-highlight rect{
        opacity: 1 !important;
        stroke: rgb(0 0 0) !important;
    }
    svg{
        max-width: 540px;
    }
    g[data-state]{
        pointer-events: all;
        cursor: default;
    }
</style>
<script>
    function domReady(fn) {
        if (document.readyState === "complete" || document.readyState === "interactive") {
            setTimeout(fn, 1);
        } else {
            document.addEventListener("DOMContentLoaded", fn);
        }
    }    

    domReady(function() {
        $wcViever = $( '#wordcloud-viewer' );
        $wcTitle = $( '#wordcloud-title' );
        $wcImg = $( '#wordcloud-image' );
        // $wcHint = $( '#wordcloud-hint' );

        $( 'g[data-state]' ).mouseenter( function( e ){
            // if ( !$wcHint.hasClass( 'd-none' ) ){
            //     $wcHint.addClass( 'd-none' );
            // }
            $( '.wordcloud-highlight' ).removeClass( 'wordcloud-highlight' );
            $( this ).addClass( 'wordcloud-highlight' );
            const state = $( this ).data( 'state' );
            $wcImg.attr( 'src', 'https://fourtonfish.com/princeton-corpus-of-political-emails/images/' + state + '.png' );
            $wcTitle.html( state.toUpperCase() );

            // $wcViever.removeClass( 'd-none' );
            // $wcViever.css( { left: e.pageX - $wcViever.outerWidth() / 2, top: e.pageY - $wcViever.outerHeight() / 2 } );
            console.log( $( this ), $( this ).data( 'state' ) );
        } ).mouseleave( function(){
            // $wcImg.attr( 'src', 'https://fourtonfish.com/princeton-corpus-of-political-emails/images/none.png' );
            // $wcViever.addClass( 'd-none' );
        } );
    });
</script>